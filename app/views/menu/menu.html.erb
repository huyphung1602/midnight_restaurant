<h1>Menu</h1>

<div class="btn-group">
  <% @sections.each do |section| %>
    <%= link_to section.name, menu_path(section_id: section.id), class: "btn #{params[:section_id] == section.id.to_s ? 'btn-primary' : 'btn-secondary'}" %>
  <% end %>
  <%= form_tag nil, method: 'get' do %>
    <%= hidden_field_tag :section_id, params[:section_id] %>
    <div class="form-inline">
      <%= select_tag :sort_column, options_for_select([['Name', 'name'], ['Price', 'price']]), class: 'form-control' %>
      <%= select_tag :sort_direction, options_for_select([['Ascending', 'asc'], ['Descending', 'desc']]), class: 'form-control' %>
      <%= submit_tag "Sort" %>
    </div>
  <% end %>
</div>


<% if @current_section %>
  <table class="table">
    <div class="thead">
      <tr>
        <th>Name</th>
        <th>Price</th>
        <th>Image</th>
        <th>Order</th>
      </tr>
    </div>
    <div class="tbody">
      <% @food_items.each do |item| %>
        <tr>
          <td><%= item.name %></td>
          <td><%= number_to_currency(item.price, locale: :vn) %></td>
          <td><%= image_tag(item.image_url_or_default, size: "180x150", alt: "#{item.name}") %></td>
          <td><%= link_to "Add to order", new_food_item_order_path(food_item_id: item.id) %></td>
        </tr>
      <% end %>
    </div>
  </table>
<% else %>
  <div class="alert alert-info">Please select a section</div>
<% end %>